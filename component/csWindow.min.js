(function(n){function f(i,r,u,f,s){var c,h,l;try{return h="jqxWindow",s!=null?c=n(i)[h](r,u,f,s):f!=null?c=n(i)[h](r,u,f):u!=null?r=="theme"?n(i)[h]({theme:u}):c=n(i)[h](r,u):r=="destroy"?(n.data(n(i)[0],t)!=null&&(o(n(i)[0]),delete n.data(n(i)[0],t)),l=n(i).prop("id"),c=n(i)[h](r),e(l)):c=n(i)[h](r),c}catch(a){errorHandle(t,"invokeMethod",a,!0,!0)}}function e(i){try{n(document).off("keydown.window"+i);n(document).off("mouseup.resize."+i);n(document).off("mouseup."+i+".resize");n(document).off("mouseup."+i);n(document).off("mousemove.resize."+i);n(document).off("mousemove."+i+".resize");n(document).off("mousemove."+i);n(document).off("resize."+i)}catch(r){errorHandle(t,"offEvents",r,!0,!0)}}function h(i){try{var r=n.data(i,t).options,f=r.realOptions.hasClosing||r.realOptions.haveClosing;r.realOptions.hasClosing!=null&&delete r.realOptions.hasClosing;r.realOptions.haveClosing!=null&&delete r.realOptions.haveClosing;r.realOptions.hideHeader!=null&&delete r.realOptions.hideHeader;r.realOptions.minContainer!=null&&delete r.realOptions.minContainer;r.realOptions.minPosition!=null&&delete r.realOptions.minPosition;o(i,!0);n(i).jqxWindow(r.realOptions);r.hideHeader==!0&&n(i).find(".jqx-window-header").css("display","none");c(i);l(i);a(i)}catch(u){errorHandle(t,"init",u,!0,!0)}}function c(i){var r,u;try{var s=n.data(i,t).options,e=n(i).prop("id"),f=n(n(i).find(".jqx-window-header")[0]);f.off("mousedown mouseup mousemove");r=!1;u={};f.on("mousedown",function(t){u={top:t.pageY-n(i).position().top,left:t.pageX-n(i).position().left};r=!0});f.on("mouseup",function(){r=!1});n(document).on("mouseup."+e,function(){r=!1});n(document).on("mousemove."+e,function(t){var f,h,c;if(r){var e=n(i).parents(),o=0,s=0;for(f=0;f<e.length;f++)n(e[f]).hasClass("jqx-window")&&(o+=n(e[f]).position().top,s+=n(e[f]).position().left);h=t.pageY-u.top+o;c=t.pageX-u.left+s;h<o&&(h=o);c<s&&(c=s);n(i).offset({top:h,left:c})}})}catch(o){errorHandle(t,"winMoving",o,!0,!0)}}function l(i){var f,u,r;try{f=n.data(i,t).options;u=n(n(i).find(".jqx-window-header")[0]).find(".jqx-window-close-button")[0];n(u).off("click");r=n(i).prop("id");n(u).on("click",function(){var t=n._data(n("#"+r)[0],"events").winClosing!=null,i=n._data(n("#"+r)[0],"events").close!=null;t?n("#"+r).triggerHandler(n.Event("winClosing")):i?n("#"+r).csWindow("close"):(e(r),n("#"+r).csWindow("destroy"))})}catch(o){errorHandle(t,"winClosingEvent",o,!0,!0)}}function o(r,u){var f,o;try{var h=n.data(r,t).options,o=n(n(r).find(".jqx-window-header")[0]),e=n(r).parents();for(f=0;f<e.length;f++)if(n(e[f]).hasClass("jqx-window")){o=n(n(e[f]).find(".jqx-window-header")[0]);u==!0?i(n(e[f]),!0):i(n(e[f]));break}}catch(s){errorHandle(t,"changeParentWinColor",s,!0,!0)}}function a(n){try{i(n)}catch(r){errorHandle(t,"winColor",r,!0,!0)}}function i(i,r){try{var e=n.data(n(i)[0],t).options,u=n(n(i).find(".jqx-window-header")[0]);r==!0?u.css({opacity:.3}):u.css({opacity:""})}catch(f){errorHandle(t,"changeColor",f,!0,!0)}}var t="csWindow",r=28,s=120,u;n.fn.csWindow=function(i,r,e,o){var s;try{if(typeof i=="string"){if(i!="destroy"&&i.indexOf("set")<0)return f(this,i,r,e,o);f(this,i,r,e,o);return}if(i=i||{},s=n.data(n(this)[0],t),s)return n.extend(s.options.realOptions,i),n(this).jqxWindow(i);n.data(n(this)[0],t,{options:n.extend({},new u,{realOptions:cloneJSON(i)},i)});h(n(this)[0])}catch(c){errorHandle(t,"$.fn.csWindow",c,!0,!0)}};u=function(){this.realOptions={};this.hasClosing=!0;this.hideHeader=!1;this.theme=n.jqx.theme;this.minPosition="left bottom"}})(jQuery);