(function(n){function nt(n,i,r){try{controlParameter(n,t,i,r)}catch(u){errorHandle(t,"parameter",u)}}function ei(i){var f,e,u,r;try{for(f=n.data(i,t).options,e=f.controls.length,u=0;u<e;u++)if(r=f.controls[u],r.fieldRow.CONDITIONTYPEA==1){n("#"+r.name)[r.type]("focus");break}else if(r.fieldRow["DefFocus".toUpperCase()]==1){n("#"+r.name)[r.type]("focus");break}return}catch(o){errorHandle(t,"focus",o)}}function tt(i,r){try{r=Math.floor(r);var u=n("#"+i.name);i.type=="jqxPanel"||i.type=="csTabs"?n(u)[i.type]({width:r}):i.type=="jqxExpander"?(n(u)[i.type]({width:"99%"}),at(i)):i.type.indexOf("jqx")>=0||i.type=="csDateTime"?n(u)[i.type]({width:r-3}):i.type=="csList"||i.type=="csMulti"||i.type=="csUploadFile"||i.type=="csDownloadFile"||i.type=="dynamicGrid"||i.type=="dynamicCondition"?n(u)[i.type]("resize",{width:r-3}):i.type.indexOf("csAddress")>=0?n(u)[i.type]("resize",r-2):n(u).css({width:r-3})}catch(f){errorHandle(t,"_setControlWidth",f)}}function at(i){try{if(i.fieldRow["heightType".toUpperCase()]==1){var r=n("#"+i.name),u=n(r).find(".jqx-expander-content")[0];n(u).height(n(r).height()-ui-3)}}catch(f){errorHandle(t,"refreshExpanderContentHeight",f)}}function p(i,r){var o,c,f,l,vt,v,y,w,b,ft,g,nt,a,ot,yt;try{if(n.data(i,t)==null)return;var st=n.data(i,t).options,it=st.controls,d=st.fieldRows,rt=d[0].CONDITIONTYPEA==1,ht=it.length,lt=n(i).css("overflow-x");for(n(i).css("overflow-x","hidden"),c=0;c<ht;c++)(f=it[c],r==null&&f.fieldRow["groupBoxName".toUpperCase()]==null||f.fieldRow["groupBoxName".toUpperCase()]==r)&&(o=f.fieldRow,o["widthType".toUpperCase()]==0&&f.type!="jqxExpander"&&tt(f,h));for(c=0;c<ht;c++)if((f=it[c],r==null&&f.fieldRow["groupBoxName".toUpperCase()]==null||f.fieldRow["groupBoxName".toUpperCase()]==r)&&(l=n("#"+f.name),l.length>0)){var o=f.fieldRow,e=null,ut=!1;if(f.noHead==!0&&(ut=!0),rt==!0)vt=o["OptionGroup".toUpperCase()]==null?n("#"+n(i).prop("id")+ct).width()-17:n("#"+n(i).prop("id")+"ro"+d[c]["fieldName".toUpperCase()]).width()-17,g=u(o,vt,ut,f.twoColumns),nt=g.textwidth-s(l)-5,tt(f,nt);else{if(o["groupBoxName".toUpperCase()]==null?(v=n(i)[0].scrollHeight-k(i),y=n(i)[0].scrollWidth-s(i)-3):(e=f.parentControl,e!=null&&(e.type=="jqxExpander"?(w=n("#"+e.name).find(".jqx-expander-content")[0],v=n(w).height()-k(w)-2,y=n(w).width()-s(w)-3):e.type.indexOf("jqx")>=0?(v=n("#"+e.name)[e.type]("height")-2,y=n("#"+e.name)[e.type]("width")-s(n("#"+e.name))-3):(v=n("#"+e.name).height()-k(n("#"+e.name))-2,y=n("#"+e.name).width()-s(n("#"+e.name))-3))),o["widthType".toUpperCase()]==0){if(b=et(i,o,d,rt),b.width.indexOf("%")>=0){ft=101;switch(f.type){case"csTabs":case"jqxExpander":case"jqxPanel":case"dynamicGrid":case"dynamicCondition":ft=100}b.width=Math.floor(y*Number(b.width.replace("%",""))/ft)}g=u(o,b.width,ut,f.twoColumns);nt=g.textwidth-s(l);tt(f,nt)}o["heightType".toUpperCase()]==0&&(f.type=="jqxPanel"||f.type=="csTabs"||f.type=="dynamicGrid"||f.type=="jqxTextArea")&&(a=or(i,o,d,rt),isEmpty(a.height)==!1&&(a.height=a.height.replace("px",""),a.height.indexOf("%")>=0&&(a.height=v*Number(a.height.replace("%",""))/100),ot=a.height-k(l)-3,f.type=="dynamicGrid"?(n(l).css({height:ot}),n(l)[f.type]("resize")):n(l)[f.type]({height:ot})));(f.type=="jqxPanel"||f.type=="jqxExpander"||f.type=="csTabs"||f.type=="dynamicGrid")&&(oi(f,!1),f.type=="csTabs"?(yt=n("#"+f.name)[f.type]("val"),p(i,f.tabsId[yt].fieldName)):p(i,o["fieldName".toUpperCase()]),f.type=="jqxExpander"&&at(f))}}lt!=null&&n(i).css("overflow-x",lt)}catch(pt){errorHandle(t,"formResize",pt)}}function oi(t,i){for(var u=["horizontalScrollBar","verticalScrollBar"],r=0;r<u.length;r++)n("#"+t.name+u[r]).length>0&&(i?n("#"+t.name+u[r]).prop("style").removeProperty("display"):n("#"+t.name+u[r]).css("display","none"));i==!1&&n("#"+t.name).css("overflow","hidden")}function ci(i){var u,f,r;try{return u=n.data(i,t).options.controls,destroyControls(u),f=n.data(i,t).options.radioControls,destroyControls(f),r=n.data(i,t).options,r.length=0,r=null,n.data(i,t,null),n(i).children().remove(),!0}catch(e){errorHandle(t,"formDestroy",e)}}function li(i,r,u,f){try{var e=n.data(i,t).options;return f==null&&(f=!1),disableAllControls(e.controls,r,u,f,f),!0}catch(o){errorHandle(t,"disableAll",o)}}function ai(i,r,u){var f,e;try{var o=n.data(i,t).options.controls,s=o.length,h=u.map(function(n){return n.toUpperCase()});for(f=0;f<s;f++)e=o[f],h.indexOf(e.fieldRow.FIELDNAME.toUpperCase())>=0?disableControl(e,!0):disableControl(e,r);return!0}catch(c){errorHandle(t,"disableFields",c)}}function vi(i,r){var s,u,h,e,f;try{var c=n.data(i,t).options.controls,l=n.data(i,t).options.settingData,a=Object.keys(l)[0],v=l[a],y=v.rows[0].CONDITIONTYPEA==1;for(r==null&&(r=!0),s=0;s<c.length;s++)if(u=c[s],u.setValueName!=null&&u.name.toString().endsWith("1")==!0){for(h=u.name.substr(0,u.name.length-2),e=1;e<=2;e++)if((f=n("#"+h+"_"+e.toString()),u.type!="label")&&f.length>0){switch(u.type){case"jqxMaskedInput":n(f)[u.type]("clear");break;case"csList":case"csAddress1":case"csAddress2":case"csAddress3":n(f)[u.type]("clearDisplayValue");break;case"csMulti":n(f)[u.type]("setDisplayValue","");break;default:n(f)[u.type]("val",null)}e==1&&(u.fieldRow["DefFocus".toUpperCase()]==1||y==!0)&&(u.type.indexOf("jqx")>=0?n(f)[u.type]("focus"):n(f).focus())}r==!0&&u.type!="label"&&o(i,h,u.fieldRow,u.eventName,u.type,u.setValueName,!0,u.getValueName)}}catch(p){errorHandle(t,"reset",p)}}function yi(){try{var i={condition:{columns:[],rows:[]}};return n.each(["fieldName","fieldValue","fieldDesc","headName"],function(n,t){i.condition.columns.push({name:t.toUpperCase(),type:"string"})}),i.condition.columns.push({name:"objectType".toUpperCase(),type:"decimal"}),i}catch(r){errorHandle(t,"getQueryStru",r)}}function vt(i,r){try{var f=n.data(i,t).options,e=f.controls,s=e.length,u=function(t){var i=t.parentControl,r;if(i!=null&&i.type=="csTabs"){for(r=i.tabsId,j=0;j<r.length;j++)if(r[j].fieldName.toUpperCase()==t.fieldRow.GROUPBOXNAME.toUpperCase()){n("#"+i.name).csTabs("select",j);break}u(i)}};u(r);r.type!="label"&&n("#"+r.name)[r.type]("focus")}catch(o){errorHandle(t,"mustBeFocus",o)}}function pi(i,r){var f,u,e;try{if(f=n.data(i,t).options,u=it(i),u[0]==!1){e=u[2];f.disableMessage!=!0&&messageBox(u[1],null,null,function(){vt(i,e)});vt(i,e);typeof r=="function"&&r(u);return}if(f.condition=u[2],f.isCheckMustBe==!1){r(u);return}bi(i,function(u){try{var e=function(){if(u[2]!=null){var t=di(i,n(i).prop("id")+"_"+u[2]+"_1");t.type!="label"&&n("#"+t.name)[t.type]("focus");typeof r=="function"&&r([u[0],u[1],t])}};if(u[0]==!1){f.disableMessage!=!0?messageBox(u[1],null,null,function(){e()}):e();return}wi(i,function(n){n[0]==!0?r([!0,null,f.condition]):r([!1,n[1]])})}catch(o){errorHandle(t,"getQueryData_checkSQLDataOk",o)}});return}catch(o){errorHandle(t,"getQueryData",o)}}function wi(i,r){var s,h,e,f;try{var c=n.data(i,t).options,l=c.controls,v=l.length,o=0,u=cloneJSON(getRowByKeyValue(l,"type","csUploadFile",!0));if(u==null||u.length==0||Object.keys(u).length==0){r([!0]);return}for(s=u.length,h=function(n,i,f,e){var o,l,a,h;try{for(i.isDo=n,n==!0&&(o={},o["fieldName".toUpperCase()]=i.fieldName,o["fieldValue".toUpperCase()]=e,o["fieldDesc".toUpperCase()]=e,o["headName".toUpperCase()]=i.fieldName+","+i.headName,o["objectType".toUpperCase()]=i.objectType,c.condition.condition.rows.push(o)),l=!0,h=0;h<s;h++)if(u[h].isDo==!1)l=!1,a+=e;else if(u[h].isDo!=!0)return;r([l,a])}catch(v){errorHandle(t,"pushCondition",v)}},e=0;e<s;e++){f=u[e];n("#"+f.name).on("load",{idx:o,control:f},function(t,i){n(this).off("load");var r=t.data;h(!0,r.control,r.j,i)});n("#"+f.name).on("error",{idx:o,control:f},function(t,i){n(this).off("error");var r=t.data;h(!0,r.control,r.j,i)});n("#"+f.name)[f.type]("uploadFiles");o+=1}}catch(a){errorHandle(t,"getUploadFiles",a)}}function it(i,r){var b,rt,v,ut,y,l,nt,c,ft,p,e;try{var tt=n.data(i,t).options,et=tt.controls,w=yi();for(r==null&&(r=!0),c=0;c<et.length;c++){var f=et[c],o="#"+f.name,u="",s="",h=f.fieldName,k=f.headName,it=null,g=f.fieldRow["DateMask".toUpperCase()]==1,a=!0;switch(f.objectType){case 1:case 11:u=n(o)[f.type]("val");s=u;break;case 25:u=n(o)[f.type]("val");break;case 26:u=n(o)[f.type]("val");isEmpty(u)==!1&&(u=encryptData(u,d));break;case 27:u=n(o)[f.type]("val");isEmpty(u)==!1&&(u=encryptData(u,d));break;case 2:u=formatDateTime(n(o)[f.type]("getText"),"yyyyMMdd",g);s=u;break;case 3:u=formatDateTime(n(o)[f.type]("getText"),"yyyyMMddHHmm",g);s=u;break;case 17:u=formatDateTime(n(o)[f.type]("getText"),"yyyyMMddHHmmss",g);s=u;break;case 23:u=n(o)[f.type]("getText");g!=!0&&u.replace("/","");s=u;break;case 24:u=n(o)[f.type]("getText");s=u;break;case 5:u=n(o)[f.type]("codeNo");s=n(o)[f.type]("description");break;case 6:case 22:case 28:f.data!=null&&(u=f.data.columns[0].type=="string"?n(o)[f.type]("getChooseQuoteList"):n(o)[f.type]("getChooseList"),s=n(o)[f.type]("getChooseListName"));break;case 7:case 31:if(u=n(o)[f.type]("val"),u==!0&&f.objectType==31&&(b=tt.settingData[f.fieldRow.FIELDNAME.toUpperCase()],b!=null&&b.rows.length>0)){for(rt=[],v=0;v<b.columns.length;v++)rt.push(b.columns[v].name+"="+convertToNull(b.rows[0][b.columns[v].name]));it=rt.join(",")}u=u==!0?"1":"0";s=u;break;case 15:if(u=n(o)[f.type]("val"),u==!0)u="1";else continue;s=u;break;case 8:if(y=n(o).csAddress1("getAddrInfo"),y==null)continue;for(l=Object.keys(y),nt=l.length,v=0;v<nt;v++)e={},e["fieldName".toUpperCase()]=h.substring(0,h.length-1)+l[v],e["fieldValue".toUpperCase()]=y[l[v]],e["fieldDesc".toUpperCase()]=l[v],e["headName".toUpperCase()]=h+","+k,e["objectType".toUpperCase()]=f.objectType,w.condition.rows.push(e);a=!1;break;case 9:if(ut=n(o)[f.type]("getAddressString"),p=yt(i,f,ut),p[0]==!1)return[p[0],p[1],f];isEmpty(ut)==!1&&(e={},e["fieldName".toUpperCase()]=h,e["fieldValue".toUpperCase()]=n(o)[f.type]("getOrderString1"),e["fieldDesc".toUpperCase()]=s,e["headName".toUpperCase()]=h+","+k,e["objectType".toUpperCase()]=f.objectType,w.condition.rows.push(e),e={},e["fieldName".toUpperCase()]=h.substr(0,h.length-1)+"2",e["fieldValue".toUpperCase()]=n(o)[f.type]("getOrderString2"),e["fieldDesc".toUpperCase()]=null,e["headName".toUpperCase()]=h+","+k,e["objectType".toUpperCase()]=f.objectType,w.condition.rows.push(e));a=!1;break;case 10:if(e["fieldName".toUpperCase()]=h,e["fieldValue".toUpperCase()]=n(o)[f.type]("addrSortA"),e["fieldDesc".toUpperCase()]=s,e["headName".toUpperCase()]=h+","+k,e["objectType".toUpperCase()]=f.objectType,w.condition.rows.push(e),y=n(o)[f.type]("addressInfo"),y!=null)for(l=Object.keys(y),nt=l.length,c=0;c<nt;c++)ft=l[c]+"_0",l[c].toUpperCase().indexOf("FLOOR")>=0&&(ft="FLOUR"+l[c]+"_0"),e["fieldName".toUpperCase()]=h.right(1)+ft,e["fieldValue".toUpperCase()]=y[l[c]],e["fieldDesc".toUpperCase()]=l[c],e["headName".toUpperCase()]=h+","+k,e["objectType".toUpperCase()]=f.objectType,w.condition.rows.push(e);a=!1;break;case 12:case 13:case 14:a=!1;break;case 18:a=!1;break;case 19:a=!1;break;case 20:a=!1;break;case 21:a=!1;break;case 16:a=!1;break;default:u=n(o)[f.type]("val");a=!0}if(a==!0){if(u!=null&&(u=u.toString().trim()),r==!0&&tt.isCheckMustBe==!0&&(p=yt(i,f,u),p[0]==!1))return[p[0],p[1],f];(u==null||u.length==0)&&(u=null);(s==null||s.length==0)&&(s=null);e={};e["fieldName".toUpperCase()]=h;e["fieldValue".toUpperCase()]=u;e["fieldDesc".toUpperCase()]=s;e["headName".toUpperCase()]=h+","+k;e["objectType".toUpperCase()]=f.objectType;it!=null&&(e["fieldValue2".toUpperCase()]=it);w.condition.rows.push(e)}}return[!0,null,w]}catch(ot){errorHandle(t,"getObjectData",ot)}}function yt(i,r,u){var e,h,c,o,s;try{var l=n.data(i,t).options,a=l.language,f=null,v=!1;return(r.fieldRow["OptionGroup".toUpperCase()]!=null&&(e=getRowByKeyValue(l.controls,"fieldName",r.fieldRow["OptionGroup".toUpperCase()]+"_1"),e!=null&&(v=n("#"+e.name)[e.type]("val"))),(u==null||u.length==0)&&r.fieldRow["MustBe".toUpperCase()]==1&&(r.fieldRow["OptionGroup".toUpperCase()]==null||v))?(f=a.mustBe.replace("{0}",r.headName),[!1,f]):(h=r.fieldRow["DataLength".toUpperCase()],c=0,u!=null&&(c=u.length),c>0&&h!=null&&(o=h.split(","),s=0,s=o.length>1?u.replace(".","").lengthB():u.toString().lengthB(),s>o[0]))?(f=a.lengthToLong.replace("{0}",r.headName).replace("{1}",s.toString()).replace("{2}",o[0].toString()),[!1,f]):[!0]}catch(y){errorHandle(t,"checkValueOk",y)}}function bi(i,r){var u;try{var o=n.data(i,t).options,f=o.controls,e=!1;for(u=0;u<f.length;u++)if(f[u].fieldRow["ChkSQLQueryX".toUpperCase()]==1){e=!0;break}e==!0?ki(i,function(n){r([n.ResultBoolean,n.ErrorMessage,n.ResultXML])}):r([!0,null])}catch(s){errorHandle(t,"checkSQLDataOk",s)}}function ki(i,r){try{var u=n.data(i,t).options,o=n.extend({},st(i),u.condition),s=n.extend({},{loginInfo:{type:"logininfo",value:cloneJSON(u.loginInfo.loginInfo)}}),f=n.extend({},cloneJSON(s),{ProgramId:{type:"string",value:u.programId},InDataStr:{type:"string",value:cloneJSON(o)}}),e=getParameters(w,b,"ChkSQLDataOk",JSON.stringify(f));getServerData(e,{success:function(n){delete f;delete e;r(n)}})}catch(h){errorHandle(t,"getCheckSQLDataOk",h)}}function di(i,r){for(var f=n.data(i,t).options.controls,u=0;u<f.length;u++)if(f[u].name==r)return f[u]}function gi(i){try{var r=n.data(i,t).options,f=r.sysProgramId,e=r.programId,u=r.settingData;if(addHandlerGetParameters(i,r),u!=null&&Object.keys(u).length>0)pt(i);else{if(f==null&&e==null){messageBox("no programId!!",messageType.critical);return}nr(i,function(){pt(i)})}r.width=n(i).width();r.height=n(i).height()}catch(o){errorHandle(t,"init",o)}}function nr(i,r){try{var u=n.data(i,t).options,f=n.extend({},{loginInfo:{type:"logininfo",value:cloneJSON(u.loginInfo.loginInfo)}}),e=n.extend({},f,{ProgramId:{type:"string",value:u.programId},SystemProgramId:{type:"string",value:u.sysProgramId}}),o=getParameters(w,b,"GetConditionField",JSON.stringify(e));getServerData(o,{success:function(n){try{n.ResultBoolean==!0?(u.settingData=JSON.parse(n.ResultXML),r()):messageBox(n.ErrorMessage,messageType.critical)}catch(i){errorHandle(t,"getSettingData_success",i)}}})}catch(s){errorHandle(t,"getSettingData",s)}}function pt(i){var u,f;try{u=n.data(i,t).options;f=u.settingData;u.loading=!0;u.programId=f[Object.keys(f)[0]].rows[0].PROGRAMID;var s=Object.keys(f)[0],e=f[s],o=function(){u.loaded&&u.loaded();u.loading=!1;var t=n.Event("loaded");n(i).triggerHandler(t)};e.rows.length>0?(u.fieldRows=e.rows,e.rows[0].CONDITIONTYPEA==1?(ir(i),o()):rr(i,function(){o()})):o()}catch(h){errorHandle(r,"refresh",h)}}function rt(u,f,e,o,s){var h,c;try{h=n.data(u,t).options;h.stopEvent=!0;var l=function(){for(var t,s,i,o=h.parameters!=null?n.extend({},h.parameters,f):f,r=0;r<h.controls.length;r++)t=h.controls[r],t.setValueName!=null&&(s=Number(t.fieldName.substr(t.fieldName.length-1))-1,i=a(u,t.fieldRow,s,o),i!==undefined&&(i===null&&(t.type=="jqxCheckBox"||t.type=="jqxRadioButton")&&(i=!1),i===null&&(i=convertNullToString(i)),t.type=="label"?n("#"+t.name).text(i):n("#"+t.name)[t.type](t.setValueName,i)));h.stopEvent=!1;e([!0])},w=function(){var e={Table:{columns:[{name:"FIELDNAME",type:"string"},{name:"FIELDVALUE",type:"string"},],rows:[]}},r,s,n,i,c,t;if(o==!0)for(r=f[Object.keys(f)[0]],s=r.columns.length,n=0;n<s;n++)t=r.rows[0][r.columns[n].name],t=convertValueToString(t),e.Table.rows.push({FIELDNAME:r.columns[n].name,FIELDVALUE:t});else for(n=0;n<h.controls.length;n++)i=h.controls[n],i.setValueName!=null&&(c=Number(i.fieldName.substr(i.fieldName.length-1))-1,t=a(u,i.fieldRow,c,f),t=convertValueToString(t),e.Table.rows.push({FIELDNAME:i.fieldRow.FIELDNAME,FIELDVALUE:t}));return e},v=h.settingData,b=Object.keys(v)[0],p=v[b].rows,k=kt(getRowFieldString(p,"FIELDNAME","",!0),p);if(k==!1){s!=!0?l():(h.stopEvent=!1,e([!0]));return}c=w();sr(u,c,function(n){var t,v,p,r,o,a;if(delete c,n!=null){for(t=[],t.push(y("ChooseQuery",n)),t.push(y("DefaultValue",n)),t.push(y("ReadOnly",n)),i=0;i<t.length;i++)for(v=Object.keys(t[i]),p=v.length,r=0;r<p;r++){o=v[r].split("_");a={};a[o[0]]=t[i][v[r]];switch(i){case 0:dt(u,o[1],a,f);break;case 1:gt(u,o[1],a);break;case 2:ni(u,o[1],a)}}delete n}s!=!0?l():(h.stopEvent=!1,e([!0]))})}catch(d){h.stopEvent=!1;errorHandle(r,"refreshDefault",d)}}function tr(n,t){for(var r=0,i=0;i<t.length;i++)n["fieldName".toUpperCase()]==t[i]["OptionGroup".toUpperCase()]&&(r+=1);return r}function ir(i){var k,e,v,o,s,l,d,h,c,y,a;try{var f=n.data(i,t).options,g=f.radioControls,w=f.settingData,nt=Object.keys(w)[0],u=w[nt].rows,b=wt(i,u,i,null,1,"40%");for(b[0].css({margin:2,width:"99%","padding-top":"5px"}),k=b[1],e=fr(n(i)),e.css({width:"50%",height:"55%"}),v=n(i).prop("id")+ct,e.prop("id",v),o=[],s=0;s<u.length;s++)if(l=u[s],l["OptionGroup".toUpperCase()]==null){d=et(i,u[0],u,!0);h=n("<div><\/div>").appendTo(k[u[s]["RowPos".toUpperCase()]].rowObj);h.css("width",d.width);h.css("height","100%");h.css("float","left");c=n(i).prop("id")+"r_"+s.toString();y=n('<div data-controltype="radio" id="'+c+'">'+l.HEADNAME+"<\/div>").appendTo(h);y.css({"margin-top":5});y.jqxRadioButton({theme:f.theme,groupName:n(i).prop("id")});g.push({name:c,type:"jqxRadioButton",level:0});n("#"+c).on("checked",function(){var s,c,l,a,h,t,y;try{destroyControls(f.controls);n("#"+v).children().remove();c=n(this).attr("id").split("_");l=c[c.length-1];s=u[l];a=function(t){n(i).find("[data-controltype=radio]").css("color","");n(t).css("color","red")};a(this);switch(s.OBJECTTYPE){case 8:case 9:case 10:e.css("width","99.5%");break;default:e.css("width","50%")}if(ft(i,s,e,null,!0),f.controls&&f.controls.length>0&&n("#"+f.controls[0].name)[f.controls[0].type]("focus"),n.each(o,function(n,t){t.children().remove()}),o=[],h=tr(s,u),h>0)for(e.css("width",Math.floor(100/(h+1))+"%"),e.css("float","left"),t=0;t<u.length;t++)s["fieldName".toUpperCase()]==u[t]["OptionGroup".toUpperCase()]&&(y=n(i).prop("id")+"ro"+u[t]["fieldName".toUpperCase()],o.push(n('<table id="'+y+'" style="float:left;width:'+Math.floor(100/(h+1))+'%;"><\/table>').appendTo(n(i))),ft(i,u[t],o[o.length-1],2,!0));p(i)}catch(w){errorHandle(r,"createSingleConditionObj_radioChecked",w)}});a=l["DefFocus".toUpperCase()];a!=null&&a!=undefined&&a==1&&n("#"+c).jqxRadioButton("check")}return!0}catch(tt){errorHandle(r,"createSingleCondition",tt)}}function rr(i,u){var h,c,o,f;try{var e=n.data(i,t).options,s=e.settingData,a=n(i).prop("id")+getUniqueId();for(e.stopEvent=!0,h=Object.keys(s)[0],c=s[h].rows,ut(i,c,i),e.stopEvent=!1,ur(i,u),o=0;o<e.controls.length;o++)f=e.controls[o],f.fieldRow["DefFocus".toUpperCase()]==1&&f.name.indexOf("_1")>=0&&(n("#"+f.name)[f.type]("focus"),f.type=="csDateTime"&&n("#"+f.name+" input").select(0));return!0}catch(l){errorHandle(r,"createMultiCondition",l)}}function wt(t,i,u,f,e,o){var h,c,s,a,l,o;try{for(h=er(u,f,i),u||(u=n("body")),c=n('<div style="border:0;margin:0;padding:0;width:99.9%;height:99%;"><\/div>').appendTo(u),e>0&&(c.css("height","100%"),c.css("width","100%")),o!=null&&c.css("height",o),s=0;s<h.length;s++)a="",l=n('<div style="width:100%;float:left;'+a+'" data-rowidx="'+s+'"><\/div>').appendTo(c),h[s].heightType==0?o=(h[s].height*100).toString()+"%":(o=h[s].height,o<26&&(o=26)),l.css("height",o),h[s].rowObj=l;return[c,h]}catch(v){errorHandle(r,"paintDIVRows",v)}}function ut(i,u,f,e,o,s){var l,a,h,y,v,c;try{for(l=n.data(i,t).options,a=wt(i,u,f,e,o)[1],h=0;h<u.length;h++)u[h]["GroupBoxName".toUpperCase()]==e&&(y=et(i,u[h],u),a[u[h]["RowPos".toUpperCase()]]!=null&&a[u[h]["RowPos".toUpperCase()]].rowObj!=null&&(v=n("<div><\/div>").appendTo(a[u[h]["RowPos".toUpperCase()]].rowObj),v.css({width:y.width,height:"100%",float:"left","margin-top":1}),ft(i,u[h],v,o,!1,s),c=e,c==null&&(c=fi),l.groupControls[c]==null&&(l.groupControls[c]=[]),l.groupControls[c].push(u[h])))}catch(p){errorHandle(r,"subMultiCondition",p)}}function ur(i,u){var o,f,s,c,a;try{var h=n.data(i,t).options,e=[],l=[];for(o=0;o<h.controls.length;o++)f=h.controls[o],f.setValueName!=null&&(s=f.getValueName,s==null&&(s=f.setValueName),c=f.type!="label"?n("#"+f.name)[f.type](s):n("#"+f.name).text(),isEmpty(c)==!1&&(e.length==0&&e.push({}),l.push({name:f.fieldRow.FIELDNAME,type:"string"}),e[0][f.fieldRow.FIELDNAME]=c));a={Table:{columns:l,rows:e}};rt(i,a,function(){u(!0)},!0,Object.keys(h.parameters).length==0)}catch(v){errorHandle(r,"controlDefValueChange",v)}}function fr(t){var i=n('<div style="border:0;margin:0;padding:0;width:99.9%;height:99%;"><\/div>');return t&&i.appendTo(t),i}function ft(n,t,i,u,f,e){try{u||(u=0);switch(t.OBJECTTYPE){case 1:cr(n,t,i,u,e);break;case 2:case 3:case 17:case 23:case 24:vr(n,t,i,u,e);break;case 4:wr(n,t,i,u,e);break;case 5:br(n,t,i,u,e);break;case 6:case 22:case 28:dr(n,t,i,u,e);break;case 7:case 31:ar(n,t,i,u,e);break;case 8:gr(n,t,i,u,e);break;case 9:nu(n,t,i,u,f,e);break;case 10:tu(n,t,i,u,f,e);break;case 11:yr(n,t,i,u,e);break;case 16:pr(n,t,i,u,e);break;case 12:uu(n,t,i,u,e);break;case 13:case 29:fu(n,t,i,u,e);case 14:break;case 15:lr(n,t,i,u,e);break;case 18:case 19:iu(n,t,i,u,e);break;case 20:case 21:ru(n,t,i,u,e);break;case 25:ri(n,t,i,u,e);break;case 30:eu(n,t,i,u,f,e);break;case 26:ii(n,t,i,u,e);break;case 27:ri(n,t,i,u,e);break;default:ii(n,t,i,u,e)}}catch(o){errorHandle(r,"addConditionControls",o)}}function er(t,i,u){var h,s,f,a;try{var e=[],o=0,c=0,l=!1;for(f=0;f<u.length;f++)u[f]["GroupBoxName".toUpperCase()]==i&&(h=u[f]["RowPos".toUpperCase()],e.length<=h&&(u[f]["HeightType".toUpperCase()]==0?(s=u[f]["Height".toUpperCase()],s==0&&(s=1),e.push({height:s,heightType:0}),o+=s):(e.push({height:u[f]["Height".toUpperCase()],heightType:1}),l=!0)),c<h&&(c=h));for(f=0;f<e.length;f++)e[f].heightType==0&&(l==!0?(e[f].heightType=1,e[f].height=Math.floor(e[f].height/o*1e3)/1e3*n(t).height()):(a=Math.floor(e[f].height/o*1e3)/1e3,e[f].height=a==e[f].height/o?Math.floor(e[f].height/o*995)/1e3:Math.floor(e[f].height/o*1e3)/1e3));return e}catch(v){errorHandle(r,"getAllRowData",v)}}function et(t,i,u,f){var l,e,o;try{var s={},h=0,c=0,a=i["GroupBoxName".toUpperCase()];if(f==null&&(f=!1),i["WidthType".toUpperCase()]==1)s.width=i["Width".toUpperCase()]+"px";else for(l=u.length,e=0;e<l;e++)u[e]["GroupBoxName".toUpperCase()]!=i["GroupBoxName".toUpperCase()]||f==!0&&u[e]["OptionGroup".toUpperCase()]!=null||u[e]["RowPos".toUpperCase()]==i["RowPos".toUpperCase()]&&(u[e]["WidthType".toUpperCase()]==0?(o=u[e]["Width".toUpperCase()],o==0&&(o=1),h+=o):c+=u[e]["Width".toUpperCase()]);return s.width==null&&h>0&&(o=i["Width".toUpperCase()],o==0&&(o=1),s.width=c>0?Math.floor(o/h*n(bt(t,a)).width()-c-2).toString()+"px":Math.floor(o/h*100).toString()+"%"),s}catch(v){errorHandle(r,"getColumnWidth",v)}}function or(t,i,u,f){var a,e,o;try{var s={},h=0,c=0,l=i["GroupBoxName".toUpperCase()];if(f==null&&(f=!1),i["HeightType".toUpperCase()]==1)s.height=i["Height".toUpperCase()]+"px";else for(a=u.length,e=0;e<a;e++)u[e]["GroupBoxName".toUpperCase()]!=l||f==!0&&u[e]["OptionGroup".toUpperCase()]!=null||u[e]["ColumnPos".toUpperCase()]==0&&(u[e]["HeightType".toUpperCase()]==0?(o=u[e]["Height".toUpperCase()],o==0&&(o=1),h+=o):c+=u[e]["Height".toUpperCase()]);return s.height==null&&h>0&&(o=i["Height".toUpperCase()],o==0&&(o=1),s.height=Math.floor(o/h*n(bt(t,l)).height()-c-2).toString()+"px"),s}catch(v){errorHandle(r,"getRowHeight",v)}}function bt(t,i){if(i==null)return n(t);var r=n("#"+n(t).prop("id")+i+"_1");return r.hasClass("jqx-expander")?n(r.find(".jqx-expander-content")[0]):r}function l(n,t,i){var u,e,f;try{u=n;u.text(t.HEADNAME);e=t["MustBe".toUpperCase()];e!=null&&e==1&&(u.html(t.HEADNAME+"*"),u.css("color","red"));f=t["HeadForeground".toUpperCase()];f!=null&&f!=undefined&&u.css("color",c(f));u.css("width","100%");n.css("width",i);n.css("margin-top",ht)}catch(o){errorHandle(r,"addHeadLabel",o)}}function u(n,t,i,u){var f,h,s,e,o;try{return f={},h=n.HEADNAME,f.headwidth=80,f.tildewidth=20,h==null||i==!0?(f.headwidth=0,f.tildewidth=0):(s=n["Field1Width".toUpperCase()],s!=null&&s>0&&(f.headwidth=Number(s))),f.textwidth=c(n,t,f),e=n["Text1Width".toUpperCase()],e!=null&&e>0&&(u!=!0&&(f.textwidth=Number(e)),f.text1width=Number(e)),o=n["Text2Width".toUpperCase()],o!=null&&o>0&&(f.textwidth=f.text1width+Number(o),f.text2width=Number(o)),f;function c(n,t,i){var r=n["RangeFlag".toUpperCase()];return r==1?Math.floor((t-i.headwidth-i.tildewidth)/2):t-i.headwidth}}catch(l){errorHandle(r,"getFieldWidth",l)}}function f(t,i,u){var f,e,o,s;try{for(f=[],e=2,u==!0&&(e=1),o=0;o<e;o++)s=n('<div style="float:left;display:inline-block;padding:1px;height:100%;"><\/div>').appendTo(i),f.push(s);return f}catch(h){errorHandle(r,"addDIVColumns",h)}}function v(t,i){n('<label style="width:'+i+"px;float:left;display.inline;margin-top:"+ht+'px;padding-left:2px;">&nbsp~&nbsp<\/label>').appendTo(t)}function kt(n,t){var f,o,s,i,e,u;try{for(f=!1,o=0;o<n.length;o++){for(s=n[o],i=0;i<t.length;i++)if(s!=t[i].FIELDNAME){for(e=["ChooseQuery","DefaultValue","ReadOnlySQL"],u=0;u<e.length;u++)if(t[i][e[u].toUpperCase()]!=null&&(t[i][e[u].toUpperCase()].toUpperCase().indexOf("<"+s.toUpperCase()+">")>=0||t[i][e[u].toUpperCase()].toUpperCase().indexOf("["+s.toUpperCase()+"]")>=0)){f=!0;break}if(f==!0)break}if(f==!0)break}return f}catch(h){errorHandle(r,"chkHasValueChange",h)}}function ot(i,u,f,e){var o;try{if(o=n.data(i,t).options,o.stopEvent==!0)return;var s=o.settingData,h=Object.keys(s)[0],c=s[h].rows,l=kt([u],c);typeof f=="boolean"&&(f=Number(f));l==!0?hr(i,u,f,function(n){try{n!=null&&(dt(i,u,y("ChooseQuery",n)),gt(i,u,y("DefaultValue",n)),ni(i,u,y("ReadOnly",n)));typeof e=="function"&&e()}catch(t){errorHandle(r,"valueChange_getFilterChooseQuery",t)}}):e()}catch(a){errorHandle(r,"valueChange",a)}}function dt(i,u,f,e){var s,v,o,h,p,l;try{var y=n.data(i,t).options,w=y.controls,c=Object.keys(f);for(s=0;s<c.length;s++)for(v=0;v<w.length;v++)if(o=w[v],h=o.fieldRow,h.FIELDNAME.toUpperCase()==c[s]){n("#"+o.name)[o.type]("source",f[c[s]].rows);switch(o.type){case"csList":f[c[s]].rows.length==0&&n("#"+o.name)[o.type]({columns:[{text:y.language.codeNo,datafield:f[c[s]].columns[0].name,width:o.codeNoWidth},{text:y.language.description,datafield:f[c[s]].columns[1].name,width:n("#"+o.name).width()-o.codeNoWidth}]});h["PreDefaultValue".toUpperCase()]!=null?(l=h["PreDefaultValue".toUpperCase()],n("#"+o.name)[o.type]("codeNo",l)):h["DefaultValue".toUpperCase()]!=null&&(p=o.fieldName.substr(o.fieldName.length-1,1),l=a(i,h,p),l!=null&&n("#"+o.name)[o.type]("codeNo",l));n("#"+o.name)[o.type]("disabled",o.disabled);break;case"csMulti":o.data=f[c[s]];h["SelectAll".toUpperCase()]==1&&f[c[s]].rows.length>0?n("#"+o.name)[o.type]("selectAll",!0):h["DefaultValue".toUpperCase()]!=null&&(p=o.fieldName.substr(o.fieldName.length-1,1),l=a(i,h,0),l==null&&n("#"+o.name)[o.type]("setDisplayValue",l));n("#"+o.name)[o.type]("disabled",o.disabled);break;case"dynamicGrid":n("#"+o.name)[o.type]({parentData:e});n("#"+o.name)[o.type]("setParentRefresh",f)}}}catch(b){errorHandle(r,"filterQuery",b)}}function gt(i,u,f){var h,y,s,e,l,o,w,b;try{var k=n.data(i,t).options,v=k.controls,c=Object.keys(f),p=!1;for(s=0;s<v.length;s++)if(e=v[s],l=e.fieldRow,l.FIELDNAME==u){p=!0;break}for(h=0;h<c.length;h++)for(y=!1,s=0;s<v.length;s++)if((e=v[s],l=e.fieldRow,y==!1&&l.FIELDNAME==u&&(y=!0),y!=!1||p!=!0)&&l.FIELDNAME.toUpperCase()==c[h]){if(f[c[h]].rows.length==0)continue;o=convertValueToString(f[c[h]].rows[0][f[c[h]].columns[0].name]);o!=null?(w={DEFAULTVALUE:o},b=Number(e.fieldName.substr(e.fieldName.length-1))-1,o=a(i,w,b)):o=null;switch(e.type){case"csList":n("#"+e.name)[e.type]("codeNo",o);break;case"csMulti":n("#"+e.name)[e.type]("setDisplayValue",o);break;case"jqxCheckBox":case"jqxRadioButton":o==null&&(o=!1);n("#"+e.name)[e.type]("val",o);break;case"jqxInput":case"jqxTextArea":case"jqxPasswordInput":n("#"+e.name)[e.type]("val",o);break;case"csDateTime":typeof o=="string"?n("#"+e.name)[e.type]("setText",o):n("#"+e.name)[e.type]("setDate",o);break;case"csAddress3":n("#"+e.name)[e.type]("setDate")}}}catch(d){errorHandle(r,"filterDefaultValue",d)}}function ni(i,u,f){var o,h,e,y,a,c;try{var v=n.data(i,t).options,l=v.controls,s=Object.keys(f);for(o=0;o<s.length;o++)for(h=0;h<l.length;h++)if(e=l[h],y=e.fieldRow,e.fieldRow.FIELDNAME.toUpperCase()==s[o]){if(f[s[o]].rows.length==0)continue;a=Object.keys(f[s[o]].rows[0]);c=f[s[o]].rows[0][a[0]]==1;e.type.indexOf("jqx")>=0?n("#"+e.name)[e.type]({disabled:c}):e.type.substr(0,2)=="cs"&&n("#"+e.name)[e.type]("disabled",c)}}catch(p){errorHandle(r,"filterReadOnly",p)}}function y(n,t){var f,u,i,e;try{for(f={},u=Object.keys(t),i=0;i<u.length;i++)u[i].toUpperCase().indexOf(n.toUpperCase()+"_")>=0&&(e=u[i].toUpperCase().replace(n.toUpperCase()+"_",""),f[e]=t[u[i]]);return f}catch(o){errorHandle(r,"getValueReturnData",o)}}function st(i){try{var u=n.data(i,t).options,f={parameters:{columns:[{name:"refno",type:"string"},{name:"editMode",type:"string"},{name:"mid",type:"string"}],rows:[]}};return f.parameters.rows.push({refno:u.refNo,editMode:u.editMode,mid:""}),f}catch(e){errorHandle(r,"getParameterTable",e)}}function sr(i,r,u){try{var f=n.data(i,t).options,e=n.extend({},{loginInfo:{type:"logininfo",value:cloneJSON(f.loginInfo.loginInfo)}}),o=it(i,!1),s=n.extend({},st(i),o[2]),h=n.extend({},e,{ProgramId:{type:"string",value:f.programId},dsDefaultData:{type:"string",value:JSON.stringify(r)},dsChooseData:{type:"string",value:JSON.stringify(s)}}),c=getParameters(w,b,"GetFilterChooseQuery2",JSON.stringify(h));getServerData(c,{success:function(n){if(n.ResultBoolean==!0){var t=JSON.parse(n.ResultXML);u(t)}else messageBox(n.ErrorMessage,messageType.critical),u()}})}catch(l){errorHandle(t,"getFilterChooseQuery2",l)}}function hr(i,r,u,f){try{var e=n.data(i,t).options,o=n.extend({},{loginInfo:{type:"logininfo",value:cloneJSON(e.loginInfo.loginInfo)}}),s=it(i,!1),h=n.extend({},st(i),s[2]),c=n.extend({},o,{ProgramId:{type:"string",value:e.programId},fieldName:{type:"string",value:r},fieldValue:{type:"string",value:convertToNull(convertNullToString(u,!0))},dsChooseData:{type:"string",value:JSON.stringify(h)}}),l=getParameters(w,b,"GetFilterChooseQuery",JSON.stringify(c));getServerData(l,{success:function(n){if(n.ResultBoolean==!0){var t=JSON.parse(n.ResultXML);f(t)}else messageBox(n.ErrorMessage,messageType.critical),f()}})}catch(a){errorHandle(t,"getFilterChooseQuery",a)}}function a(i,r,u,f){var e,s,a,h;try{var p=n.data(i,t).options,w="",o=null;if(u==null&&(u=1),w=u==1?"DefaultValue2".toUpperCase():"DefaultValue".toUpperCase(),f==null&&(f=p.parameters),e=r[w],e!=null&&e.toUpperCase().indexOf("SELECT")<0){if(e.indexOf("[")>=0&&e.indexOf("]")>=0){if(e.toUpperCase().indexOf("[LOGININFO.")>=0){var v=e.split("."),y=v[1].toString().replace("]",""),b=p.loginInfo.loginInfo.rows[0],c=Object.keys(b);for(s=0;s<c.length;s++)c[s].toUpperCase()==y.toUpperCase()&&(o=b[c[s]])}if(f!=null&&Object.keys(f).length>0)if(e.indexOf(".")>=0){var v=e.split("."),k=v[0].toString().replace("[",""),y=v[1].toString().replace("]","").toUpperCase(),c=Object.keys(f),l;for(s=0;s<c.length;s++)if(c[s].toUpperCase()==k.toUpperCase()){l=f[c[s]];break}if(l!=null&&l.rows.length>0)for(a=Object.keys(l.rows[0]),h=0;h<a.length;h++)if(a[h].toUpperCase()==y.toUpperCase()){o=l.rows[0][a[h]];break}}else{var y=e.toString().replace("[","").replace("]","").toUpperCase(),c=Object.keys(f),l=f[c[c.length-1]];if(l.rows.length>0)for(a=Object.keys(l.rows[0]),h=0;h<a.length;h++)if(a[h].toUpperCase()==y.toUpperCase()){o=l.rows[0][a[h]];break}}}else o=e;if(o==null)return e==null?undefined:null;switch(r["objectType".toUpperCase()]){case 7:case 15:o=o==1;break;case 26:case 27:o=decryptData(o,d)}}return o}catch(g){errorHandle(t,"getFieldDefValue",g)}}function s(t){return n(t).outerWidth(!0)-n(t).width()}function k(t){return n(t).outerHeight(!0)-n(t).height()}function o(i,r,u,f,e,o,s,h,c,l){var y,w;try{var b=n.data(i,t).options,p=n("#"+r+"_1"),v=n("#"+r+"_2"),y=null;if(h==null&&(h=o),v.length>0){if(f!=null)n(v).on(f,function(t){var r=n(this)[e](h);n(i).triggerHandler(n.Event("valueChanging",{args:{object:this,value:r}}));ot(i,u.FIELDNAME,r,function(){n(i).triggerHandler(n.Event("valueChanged",{args:{object:this,value:r}}))});ti(i,t)});l!=!0&&(y=a(i,u,1),c==!0&&y==null||(e!=null?n(v)[e](o,y):n(v)[o](y),y!=null&&f!=null&&n(v).triggerHandler(f)))}if(f!=null)n(p).on(f,function(r){var c,s;try{c=e!=null?n(this)[e](h):n(this)[h];n(i).triggerHandler(n.Event("valueChanging",{args:{object:this,value:c}}));v.length>0&&l!=!0&&(s=n(v)[e](h),u.trimAndCheck==!0&&s!=null&&(s=s.trim()),y==null&&(s==null||s.length==0||b.loading==!1)&&(n(v)[e](o,n(p)[e](h)),n(v).triggerHandler(f)));ot(i,u.FIELDNAME,c,function(){n(i).triggerHandler(n.Event("valueChanged",{args:{object:this,value:c}}))});ti(i,r)}catch(a){errorHandle(t,"setDefaultAndAddHandler_"+f,a)}});l!=!0&&(w=a(i,u,0),c==!0&&w==null||(e!=null?n(p)[e](o,w):n(p)[o](w),w!=null&&f!=null&&n(p).triggerHandler(f)))}catch(k){errorHandle(t,"setDefaultAndAddHandler",k)}}function ti(i,r){var u;if(n(r.target).hasClass("jqx-radiobutton")){if(n(r.target).jqxRadioButton("val")!=!0)return;var f=n.data(i,t).options,e=getRowByKeyValue(f.controls,"name",n(r.target).prop("id")),o=f.controls.length;for(u=0;u<o;u++)if(f.controls[u].fieldRow["optionGroup".toUpperCase()]!=null&&e.fieldRow.FIELDNAME.toUpperCase()==f.controls[u].fieldRow["optionGroup".toUpperCase()].toUpperCase()){n("#"+f.controls[u].name)[f.controls[u].type]("focus");break}}}function ii(i,a,y,p,w){var b;try{var d=n.data(i,t).options,g=f(a,y),nt=u(a,n(y).width()-3);l(g[0],a,nt.headwidth);var tt=1,it=n(i).prop("id")+"_"+a.FIELDNAME,k="jqxInput",rt=function(t,i,u,f){var g,o,v,l,b,a,y;try{g=null;o=it+"_"+f.toString();n('<input type="text" id="'+o+'"><\/input>').appendTo(t);v={width:h,height:e,theme:d.theme};l=i["dataLength".toUpperCase()];l!=null&&l!=undefined&&(v.maxLength=l.split(",")[0]);n("#"+o)[k](v);b=u.textwidth-s(n("#"+o))-3;n("#"+o)[k]({width:b});d.controls.push({name:o,type:k,level:p,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_"+f.toString(),headName:i.HEADNAME,fieldRow:i,setValueName:"val",eventName:"input",trimAndCheck:!0,parentControl:w});n("#"+o).css("float","left");a=i["TextForeground".toUpperCase()];a!=null&&a!=undefined&&n("#"+o).css("color",c(a));y=i["ReadOnly".toUpperCase()];(y!=null&&y==1||d.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&n("#"+o).attr("readonly",!0);n("#"+o).css("minWidth",h);n("#"+o).css("display","inline-block")}catch(nt){errorHandle(r,"addInput_makeControl",nt)}},ft=a["RegExString".toUpperCase()];for(a["RangeFlag".toUpperCase()]==1&&(tt=2),b=1;b<=tt;b++)b==2&&v(g[1],nt.tildewidth),rt(g[1],a,nt,b);o(i,it,a,"input",k,"val")}catch(ut){errorHandle(r,"addInput",ut)}}function cr(i,a,y,p,w){var k;try{var d=n.data(i,t).options,g=f(a,y),nt=u(a,y.width()-3);l(g[0],a,nt.headwidth);var tt=n(i).prop("id")+"_"+a.FIELDNAME,b="jqxInput",rt=function(t,i,u,f){var v,a,l,k,y;try{var o=tt+"_"+f.toString(),l=i["dataLength".toUpperCase()];if(l!=null&&l.indexOf(",")>=0){b="jqxNumberInput";n('<div id="'+o+'"><\/div>').appendTo(t);a={width:h,height:e,theme:d.theme,spinButtonsStep:5};v=l.split(",");a.digits=Number(v[0])-Number(v[1]);a.decimalDigits=v[1];n("#"+o)[b](a);n(n("#"+o).find("input[type=textarea]")[0]).on("focus",function(){n(this).select()})}else{n('<input type="text" id="'+o+'"><\/input>').appendTo(t);a={width:h,height:e,theme:d.theme};l=i["dataLength".toUpperCase()];l!=null&&l!=undefined&&(a.maxLength=l.split(",")[0]);n("#"+o)[b](a);n("#"+o).on("keypress",function(n){n.which>=48&&n.which<=57||n.preventDefault()});n("#"+o).on("focus",function(){n(this).select()})}n("#"+o)[b]({width:u.textwidth-s(n("#"+o))-4});d.controls.push({name:o,type:b,level:p,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_"+f.toString(),headName:i.HEADNAME,fieldRow:i,setValueName:"val",eventName:"change",parentControl:w});n("#"+o).css("float","left");n("#"+o).css("display","inline-block");n("#"+o).css("text-align","right");k=i["ReadOnly".toUpperCase()];(k!=null&&k==1||d.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&n("#"+o).attr("readonly",!0);y=i["TextForeground".toUpperCase()];y!=null&&y!=undefined&&n("#"+o).css("color",c(y));n("#"+o).css("minWidth",h)}catch(g){errorHandle(r,"addNumberInput_makeControl",g)}},it=1;for(a["RangeFlag".toUpperCase()]==1&&(it=2),k=1;k<=it;k++)k==2&&v(g[1],nt.tildewidth),rt(g[1],a,nt,k);o(i,tt,a,"input",b,"val")}catch(ut){errorHandle(r,"addNumberInput",ut)}}function lr(i,s,h,l,a){try{var v=n.data(i,t).options,p=f(s,h,!0),b=u(s,h.width()-2),w=n(i).prop("id")+"_"+s.FIELDNAME,y="jqxRadioButton",k=function(t,u){var f,p,b,k,d,s,o,h;try{return f=w+"_1",p="",u.HEADNAME!=null&&(p=u.HEADNAME),n('<div id="'+f+'">'+p+"<\/div>").appendTo(t),b=n(i).prop("id")+"group",u["groupBoxName".toUpperCase()]!=null&&(b=n(i).prop("id")+u["groupBoxName".toUpperCase()]),k={width:"99%",height:e,groupName:b,theme:v.theme},o=u["ReadOnly".toUpperCase()],o!=null&&o!=undefined&&o==1&&(k.disabled=!0),n("#"+f).jqxRadioButton(k),d={name:f,type:y,level:l,objectType:u["OBJECTTYPE".toUpperCase()],fieldName:u.FIELDNAME+"_1",headName:u.HEADNAME,fieldRow:u,noHead:!0,setValueName:"val",eventName:"change",noNull:!0,parentControl:a},v.controls.push(d),s=u["MustBe".toUpperCase()],s!=null&&s!=undefined&&s==1&&n("#"+f).css("color","red"),o=u["ReadOnly".toUpperCase()],(o!=null&&o==1||v.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(u.FIELDNAME.toUpperCase())>=0)&&(n("#"+f)[y]({disabled:!0}),d.disabled=!0),h=u["TextForeground".toUpperCase()],h!=null&&h!=undefined&&n("#"+f).css("color",c(h)),n("#"+f)}catch(g){errorHandle(r,"addRadioButton_makeControl",g)}};p[0].css("width","99%");k(p[0],s,b);o(i,w,s,"change",y,"val",null,null,!0)}catch(d){errorHandle(r,"addRadioButton",d)}}function ar(i,s,h,l,a){try{var v=n.data(i,t).options,p=f(s,h,!0),b=u(s,h.width()-2),w=n(i).prop("id")+"_"+s.FIELDNAME,y="jqxCheckBox",k=function(t,i){var u,h,p,o,f,s;try{return u=w+"_1",n('<div id="'+u+'">'+i.HEADNAME+"<\/div>").appendTo(t),h={width:"99%",height:e,theme:v.theme},f=i["ReadOnly".toUpperCase()],f!=null&&f!=undefined&&f==1&&(h.disabled=!0),n("#"+u).jqxCheckBox(h),p={name:u,type:y,level:l,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_1",headName:i.HEADNAME,fieldRow:i,noHead:!0,setValueName:"val",eventName:"change",noNull:!0,parentControl:a},v.controls.push(p),o=i["MustBe".toUpperCase()],o!=null&&o!=undefined&&o==1&&n("#"+u).css("color","red"),f=i["ReadOnly".toUpperCase()],(f!=null&&f==1||v.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&(n("#"+u)[y]({disabled:!0}),p.disabled=!0),s=i["TextForeground".toUpperCase()],s!=null&&s!=undefined&&n("#"+u).css("color",c(s)),n("#"+u)}catch(b){errorHandle(r,"addCheckbox_makeControl",b)}};p[0].css("width","99%");k(p[0],s,b);o(i,w,s,"change",y,"val",null,null,!0)}catch(d){errorHandle(r,"addCheckbox",d)}}function vr(i,a,y,p,w){var b;try{var k=n.data(i,t).options,d=f(a,y),g=u(a,y.width()-3);l(d[0],a,g.headwidth);var tt=n(i).prop("id")+"_"+a.FIELDNAME,nt="csDateTime",rt=function(t,i,u,f){var b,o,l,v,y,a;try{b=null;o=tt+"_"+f.toString();n('<div id="'+o+'"><\/div>').appendTo(t);l={width:h,showCalendarButton:!1,theme:k.theme,height:e,value:null};switch(i.OBJECTTYPE){case 3:l.formatString="yyyy/MM/dd HH:mm";break;case 17:l.formatString="yyyy/MM/dd HH:mm:ss";break;case 23:l.formatString="yyyy/MM";break;case 24:l.formatString="yyyy";break;case 2:default:l.formatString="yyyy/MM/dd"}n("#"+o).csDateTime(l);n("#"+o).csDateTime({width:u.textwidth-s(n("#"+o))-2});v={name:o,type:nt,level:p,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_"+f.toString(),headName:i.HEADNAME,fieldRow:i,setValueName:"setDate",getValueName:"getDate",eventName:"dateChanged",parentControl:w};k.controls.push(v);n("#"+o+" input").on("focus",function(){n(this).select()});n("#"+o).css("float","left");n("#"+o).css("display","inline-block");y=i["ReadOnly".toUpperCase()];(y!=null&&y==1||k.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&(n("#"+o)[nt]({disabled:!0}),v.disabled=!0);a=i["TextForeground".toUpperCase()];a!=null&&a!=undefined&&n("#"+o).css("color",c(a));n("#"+o).css("minWidth",h)}catch(d){errorHandle(r,"addDateTimeInput_makeControl",d)}},it=1;for(a["RangeFlag".toUpperCase()]==1&&(it=2),b=1;b<=it;b++)b==2&&v(d[1],g.tildewidth),rt(d[1],a,g,b);o(i,tt,a,"dateChanged",nt,"setText",!1,"getText")}catch(ut){errorHandle(r,"addDateTimeInput",ut)}}function yr(i,e,h,a,v){try{var p=n.data(i,t).options,y=f(e,h,e.OBJECTTYPE==16),w=u(e,h.width()-3),b=n(i).prop("id")+"_"+e.FIELDNAME,k="jqxTextArea",d=function(t,i,u){var y,f,e,o,h,l;try{y=null;f=b+"_1";n('<textarea id="'+f+'"><\/textarea>').appendTo(t);n("#"+f).css("margin-bottom",1);e={width:"99.9%",height:"99%",theme:p.theme};i["HeightType".toUpperCase()]==1&&(e.height=i["Height".toUpperCase()]);i["widthType".toUpperCase()]==1&&(e.width=i["width".toUpperCase()]);o=i["dataLength".toUpperCase()];o!=null&&o!=undefined&&(e.maxLength=o.split(",")[0]);e.width=u.textwidth-s(n("#"+f));n("#"+f)[k](e);p.controls.push({name:f,type:"jqxTextArea",level:a,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_1",headName:i.HEADNAME,fieldRow:i,setValueName:"val",eventName:"change",parentControl:v});h=i["TextForeground".toUpperCase()];h!=null&&h!=undefined&&n("#"+f).css("color",c(h));l=i["ReadOnly".toUpperCase()];(l!=null&&l!=undefined&&l==1||i.OBJECTTYPE==16||p.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&n("#"+f).attr("readonly",!0)}catch(w){errorHandle(r,"addMemoInput_makeControl",w)}};e.OBJECTTYPE==11?(l(y[0],e,w.headwidth),d(y[1],e,w)):(y[0].css("width","100%"),d(y[0],e,w));o(i,b,e,"change",k,"val",!0)}catch(g){errorHandle(r,"addMemoInput",g)}}function pr(i,e,s,h,l){try{var y=n.data(i,t).options,a=f(e,s,e.OBJECTTYPE==16),p=u(e,s.width()-3),v=n(i).prop("id")+"_"+e.FIELDNAME,w="label",b=function(t,i){var o,u,e,f;try{o=null;u=v+"_1";n('<label id="'+u+'"><\/label>').appendTo(t);i["HeightType".toUpperCase()]==1&&n("#"+u).css({height:i["Height".toUpperCase()]});i["widthType".toUpperCase()]==1&&n("#"+u).css({width:i["width".toUpperCase()]-2});y.controls.push({name:u,type:w,level:h,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_1",headName:i.HEADNAME,fieldRow:i,setValueName:"text",eventName:"change",parentControl:l});e=i["mustBe".toUpperCase()];e!=null&&n("#"+u).css("color","red");f=i["TextForeground".toUpperCase()];f!=null&&n("#"+u).css("color",c(f))}catch(s){errorHandle(r,"addComment_makeControl",s)}};a[0].css({width:"100%","margin-top":6});b(a[0],e,p);o(i,v,e,"change",null,"text",!0,null,!0)}catch(k){errorHandle(r,"addComment",k)}}function ri(i,a,y,p,w){var b;try{var k=n.data(i,t).options,d=f(a,y),g=u(a,y.width()-3);l(d[0],a,g.headwidth);var nt=n(i).prop("id")+"_"+a.FIELDNAME,tt="jqxPasswordInput",rt=function(t,i,u,f){var y,o,v,a,l;try{y=null;o=nt+"_"+f.toString();n('<input type="password" id="'+o+'"/>').appendTo(t);v={width:h,height:e,theme:k.theme};n("#"+o).jqxPasswordInput(v);n("#"+o).jqxPasswordInput({width:u.textwidth-s(n("#"+o))-3});k.controls.push({name:o,type:tt,level:p,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_"+f.toString(),headName:i.HEADNAME,fieldRow:i,setValueName:"val",eventName:"change",parentControl:w});a=i["ReadOnly".toUpperCase()];(a!=null&&a==1||k.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&n("#"+o).attr("readonly",!0);l=i["TextForeground".toUpperCase()];l!=null&&l!=undefined&&n("#"+o).css("color",c(l));n("#"+o).css("minWidth",h);n("#"+o).css("display","inline-block")}catch(b){errorHandle(r,"addPasswordInput_makeControl",b)}},it=1;for(a["RangeFlag".toUpperCase()]==1&&(it=2),b=1;b<=it;b++)b==2&&v(d[1],g.tildewidth),rt(d[1],a,g,b);o(i,nt,a,"change",tt,"val",!0)}catch(ut){errorHandle(r,"addPasswordInput",ut)}}function wr(i,a,y,p,w){var b;try{var k=n.data(i,t).options,ut=k.settingData,g=f(a,y),nt=u(a,y.width()-3,!1,!0);l(g[0],a,nt.headwidth);var tt=n(i).prop("id")+"_"+a.FIELDNAME,d="jqxComboBox",it,ft=function(t,i,u,f,o){var b,l,ut,ft,g,v,nt,y;try{b=null;l=tt+"_"+o.toString();n('<div id="'+l+'"><\/div>').appendTo(t);var rt=f.textwidth-2,ot=Math.floor((rt-20)*2/5),a={width:rt,height:e,theme:k.theme};u?(ut={datatype:"json",datafields:u.columns,localdata:u.rows},ft=new n.jqx.dataAdapter(ut),a.source=ft,a.valueMember=u.columns[0].name,a.displayMember=u.columns.length==1?u.columns[0].name:u.columns[1].name):it=!0;n("#"+l)[d](a);n("#"+l).css("width",f.textwidth-s(n("#"+l))-3);g={name:l,type:d,level:p,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_"+o.toString(),headName:i.HEADNAME,fieldRow:i,setValueName:"val",eventName:"change",disabled:!1,parentControl:w};k.controls.push(g);n("#"+l).css("float","left");n("#"+l).css("display","inline-block");n("#"+l).css("margin-right",2);b!=null&&n("#"+l).attr("placeholder",b);v=i["dataLength".toUpperCase()];v!=null&&v!=undefined&&n("#"+l).attr("maxlength",v.split(",")[0]);nt=i["ReadOnly".toUpperCase()];(nt!=null&&nt==1||k.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&(n("#"+l)[d]("disabled",!0),g.disabled=!0);y=i["TextForeground".toUpperCase()];y!=null&&y!=undefined&&n("#"+l).css("color",c(y));n("#"+l).css("minWidth",h);n("#"+l).css("display","inline-block")}catch(et){errorHandle(r,"addCombobox_makeControl",et)}},rt=1;for(a["RangeFlag".toUpperCase()]==1&&(rt=2),b=1;b<=rt;b++)b==2&&v(g[1],nt.tildewidth),ft(g[1],a,ut[a.FIELDNAME.toUpperCase()],nt,b);o(i,tt,a,"change",d,"val",!0,null,null,it)}catch(et){errorHandle(r,"addCombobox",et)}}function br(i,a,y,p,w){var k;try{var b=n.data(i,t).options,ut=b.settingData,g=f(a,y),nt=u(a,y.width()-3,!1,!0);l(g[0],a,nt.headwidth);var tt=n(i).prop("id")+"_"+a.FIELDNAME,d="csList",it,ft=function(t,i,u,f,o){var y,l,g,a,nt,v;try{y=null;l=tt+"_"+o.toString();n('<div id="'+l+'"><\/div>').appendTo(t);var rt=f.textwidth-2,ut=Math.floor((rt-20)*2/5),k={width:rt,height:e,theme:b.theme,localization:b.localization,codeNoWidth:ut};u?k.source=u.rows:it=!0;f.text1width&&f.text1width>0&&(k.codeNoWidth=f.text1width);n("#"+l)[d](k);n("#"+l).css("width",f.textwidth-s(n("#"+l))-3);g={name:l,type:d,level:p,objectType:i["OBJECTTYPE".toUpperCase()],fieldName:i.FIELDNAME+"_"+o.toString(),headName:i.HEADNAME,fieldRow:i,setValueName:"codeNo",eventName:"selectedIndexChanged",disabled:!1,parentControl:w,twoColumns:!0,codeNoWidth:ut};b.controls.push(g);n("#"+l).css("float","left");n("#"+l).css("display","inline-block");n("#"+l).css("margin-right",2);y!=null&&n("#"+l).attr("placeholder",y);a=i["dataLength".toUpperCase()];a!=null&&a!=undefined&&n("#"+l).attr("maxlength",a.split(",")[0]);nt=i["ReadOnly".toUpperCase()];(nt!=null&&nt==1||b.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(i.FIELDNAME.toUpperCase())>=0)&&(n("#"+l)[d]("disabled",!0),g.disabled=!0);v=i["TextForeground".toUpperCase()];v!=null&&v!=undefined&&n("#"+l).css("color",c(v));n("#"+l).css("minWidth",h);n("#"+l).css("display","inline-block")}catch(ft){errorHandle(r,"addList_makeControl",ft)}},rt=1;for(a["RangeFlag".toUpperCase()]==1&&(rt=2),k=1;k<=rt;k++)k==2&&v(g[1],nt.tildewidth),ft(g[1],a,ut[a.FIELDNAME.toUpperCase()],nt,k);o(i,tt,a,"selectedIndexChanged",d,"codeNo",!0,null,null,it)}catch(et){errorHandle(r,"addList",et)}}function kr(i,u){var o,f,e;try{for(o=n.data(i,t).options,f=cloneJSON(u.columns),e=0;e<f.length;e++)f[e].datafield=f[e].name;return f[0].text=o.language.codeNo,f[1].text=o.language.description,f[0].width=100,f[1].width=200,f}catch(s){errorHandle(r,"getGridColumns",s)}}function dr(i,s,h,c,l){var k,d;try{var y=n.data(i,t).options,it=y.settingData,w=f(s,h,!0),ft=u(s,h.width(),!0),g=n(i).prop("id")+s.FIELDNAME,b="csMulti",a=g+"_1",nt=!1;w[0].css("width","100%");n('<div id="'+a+'" style="width:100%;height:100%;"><\/div>').appendTo(w[0]);var tt=s.OBJECTTYPE==22,rt=s.OBJECTTYPE==28,v={width:n(w[0]).width()-2,height:e,buttonWidth:120,theme:y.theme,localization:y.localization,buttonText:s.HEADNAME,OrderByChoose:tt,showOrdColumn:tt,disabled:!1,isReadOnly:rt},p=it[s.FIELDNAME.toUpperCase()];p&&(v.columns=kr(i,p),v.source=p.rows,s["SelectAll".toUpperCase()]==1&&(v.selectAll=!0,nt=!0));s.MUSTBE==1&&(v.buttonText=s.HEADNAME+"*");n("#"+a).csMulti(v);s.MUSTBE==1&&n("#"+a).find("button, input").css("color","red");k={name:a,type:b,level:c,objectType:s["OBJECTTYPE".toUpperCase()],fieldName:s.FIELDNAME+"_1",headName:s.HEADNAME,fieldRow:s,noHead:!0,data:p,setValueName:"setDisplayValue",getValueName:"getChooseQuoteList",eventName:"chooseChanged",parentControl:l};y.controls.push(k);d=s["ReadOnly".toUpperCase()];(d!=null&&d==1||y.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(s.FIELDNAME.toUpperCase())>=0)&&(n("#"+a)[b]("disabled",!0),k.disabled=!0);n("#"+a).css("float","left");n("#"+a).css("display","inline-block");o(i,g,s,"chooseChanged",b,"setDisplayValue",!0,"getChooseQuoteList",nt,v.source==null)}catch(ut){errorHandle(r,"addMultiSelect",ut)}}function gr(i,o,s,h,c){var b,y,p;try{var a=n.data(i,t).options,g=a.settingData,w=f(o,s,!0),nt=u(o,s.width(),!0),k=n(i).prop("id")+o.FIELDNAME,v="csAddress1",l=k+"_1";w[0].css("width","100%");n('<div id="'+l+'" style="width:100%;height:100%;"><\/div>').appendTo(w[0]);b={width:"100%",buttonWidth:105,buttonHeight:e,buttonText:o.HEADNAME,loginInfo:cloneJSON(a.loginInfo),theme:a.theme};n("#"+l)[v](b);y={name:l,type:v,level:h,objectType:o["OBJECTTYPE".toUpperCase()],fieldName:o.FIELDNAME+"_1",headName:o.HEADNAME,fieldRow:o,noHead:!0,parentControl:c,setValueName:"setDisplayValue"};a.controls.push(y);p=o["ReadOnly".toUpperCase()];(p!=null&&p==1||a.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(o.FIELDNAME.toUpperCase())>=0)&&(n("#"+l)[v]("disabled",!0),y.disabled=!0);n("#"+l).css("float","left");n("#"+l).css("display","inline-block")}catch(d){errorHandle(r,"addAddress1",d)}}function nu(i,u,f,e,o,s){var c,w,y,p,a,v;try{c=n.data(i,t).options;w=c.settingData;y=o!=!0?n(f):f;var b=n(i).prop("id")+u.FIELDNAME,l="csAddress2",h=b+"_1";n('<div id="'+h+'" style="width:100%;height:116px;"><\/div>').appendTo(y);p={height:110,width:"99.2%",loginInfo:cloneJSON(c.loginInfo),theme:c.theme};n("#"+h)[l](p);a={name:h,type:l,level:e,objectType:u["OBJECTTYPE".toUpperCase()],fieldName:u.FIELDNAME+"_1",headName:u.HEADNAME,fieldRow:u,noHead:!0,parentControl:s,setValueName:"setDisplayValue"};c.controls.push(a);v=u["ReadOnly".toUpperCase()];(v!=null&&v==1||c.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(u.FIELDNAME.toUpperCase())>=0)&&(n("#"+h)[l]("disabled",!0),a.disabled=!0);n("#"+h).css("float","left");n("#"+h).css("margin-left",1);n("#"+h).css("display","inline-block")}catch(k){errorHandle(r,"addAddress2",k)}}function tu(i,u,f,e,o,s){var c,w,y,p,a,v;try{c=n.data(i,t).options;w=c.settingData;y=o!=!0?n(f):f;var b=n(i).prop("id")+u.FIELDNAME,l="csAddress3",h=b+"_1";n('<div id="'+h+'" style="width:100%;height:116px;"><\/div>').appendTo(y);p={height:110,width:"99.2%",loginInfo:cloneJSON(c.loginInfo),theme:c.theme};n("#"+h)[l](p);a={name:h,type:l,level:e,objectType:u["OBJECTTYPE".toUpperCase()],fieldName:u.FIELDNAME+"_1",headName:u.HEADNAME,fieldRow:u,noHead:!0,parentControl:s,setValueName:"setDisplayValue"};c.controls.push(a);v=u["ReadOnly".toUpperCase()];(v!=null&&v==1||c.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(u.FIELDNAME.toUpperCase())>=0)&&(n("#"+h)[l]("disabled",!0),a.disabled=!0);n("#"+h).css("float","left");n("#"+h).css("margin-left",1);n("#"+h).css("display","inline-block")}catch(k){errorHandle(r,"addAddress3",k)}}function iu(i,o,s,h,c){var v,p,w;try{var y=n.data(i,t).options,b=f(o,s),d=u(o,s.width()-3);l(b[0],o,d.headwidth);var g=n(i).prop("id")+"_"+o.FIELDNAME,k="csUploadFile",a=g+"_1";n('<div id="'+a+'" style="height:100%;"><\/div>').appendTo(b[1]);switch(o["UploadFileType".toUpperCase()]){case 1:v=".xls";break;case 2:v=".csv";break;case 3:v=".txt"}n("#"+a).csUploadFile({height:e,accept:v,theme:y.theme});p={name:a,type:k,level:h,objectType:o["OBJECTTYPE".toUpperCase()],fieldName:o.FIELDNAME+"_1",headName:o.HEADNAME,fieldRow:o,noHead:!1,parentControl:c};y.controls.push(p);w=o["ReadOnly".toUpperCase()];(w!=null&&w==1||y.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(o.FIELDNAME.toUpperCase())>=0)&&(n("#"+a)[k]("disabled",!0),p.disabled=!0);n("#"+a).css("float","left");n("#"+a).css("display","inline-block")}catch(nt){errorHandle(r,"addUploadFile",nt)}}function ru(i,s,h,c,a){var g,w,b;try{var p=n.data(i,t).options,k=f(s,h),nt=u(s,h.width()-3);l(k[0],s,nt.headwidth);var d=n(i).prop("id")+"_"+s.FIELDNAME,y="csDownloadFile",v=d+"_1";n('<div id="'+v+'" style="height:100%;"><\/div>').appendTo(k[1]);g=s["OBJECTTYPE".toUpperCase()]==20?"button":"link";n("#"+v)[y]({height:e,showFileName:!0,type:g,theme:p.theme});w={name:v,type:y,level:c,objectType:s["OBJECTTYPE".toUpperCase()],fieldName:s.FIELDNAME+"_1",headName:s.HEADNAME,fieldRow:s,noHead:!1,parentControl:a};p.controls.push(w);b=s["ReadOnly".toUpperCase()];(b!=null&&b==1||p.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(s.FIELDNAME.toUpperCase())>=0)&&(n("#"+v)[y]("disabled",!0),w.disabled=!0);n("#"+v).css("float","left");n("#"+v).css("display","inline-block");o(i,d,s,null,y,"setURL",null,null,!0)}catch(tt){errorHandle(r,"addDownloadFile",tt)}}function uu(i,u,f,e,o){var h,a,c,y,v;try{var l=n.data(i,t).options,p=l.settingData,b=n(f),s=n(i).prop("id")+u.FIELDNAME+"_1";n('<div id="'+s+'"><\/div>').appendTo(b);h={width:"99.2%",theme:l.theme};u["HeightType".toUpperCase()]==1&&(h.height=u["Height".toUpperCase()]);u["widthType".toUpperCase()]==1&&(h.width=u["width".toUpperCase()]);u.HEADNAME&&u.HEADNAME.toString().trim().length!=0?(n("#"+s).css("margin-left",1),n("#"+s).css("margin-bottom",1),y=s+"_cnt",n("<div>"+u.HEADNAME.toString()+"<\/div>").appendTo(n("#"+s)),n('<div id = "'+y+'">x<\/div>').appendTo(n("#"+s)),h=n.extend({},h,{showArrow:!1,expanded:!0,toggleMode:"none",collapseAnimationDuration:0,expandAnimationDuration:0}),h.height==null&&(h.height="auto"),a="jqxExpander",n("#"+s).jqxExpander(h),n("#"+s).find(".jqx-expander-header").css({height:16,"padding-bottom":1}),c=n("#"+y),h.height=="auto"?n(c).css("padding-bottom",2):n(c).css("height",n(c).height()-2),n(c).text("")):(a="jqxPanel",n("#"+s).jqxPanel(h),c=n("#panelContent"+s));v={name:s,type:a,level:e,objectType:u["OBJECTTYPE".toUpperCase()],fieldName:u.FIELDNAME+"_1",headName:u.HEADNAME,fieldRow:u,noHead:!0,parentControl:o};l.controls.push(v);var k=Object.keys(p)[0],d=p[k].rows,nt=ut(i,d,c,u["FIELDNAME".toUpperCase()],e+1,v),w=u["ReadOnly".toUpperCase()];(w!=null&&w==1||l.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(u.FIELDNAME.toUpperCase())>=0)&&(n("#"+s)[a]({disabled:!0}),v.disabled=!0);n(c).css("overflow","hidden");n(c).children().prop("style").removeProperty("height")}catch(g){errorHandle(r,"addGroupBox",g)}}function fu(i,u,f,e,o){var k,c,a,d,y,w,s;try{var v=n.data(i,t).options,b=v.settingData,g=Object.keys(b)[0],l=b[g].rows,nt=n(f),h=n(i).prop("id")+u.FIELDNAME+"_1";for(n('<div id="'+h+'"><\/div>').appendTo(nt),k=n("<ul><\/ul>").appendTo(n("#"+h)),c=[],s=0;s<l.length;s++)u.FIELDNAME==l[s].GROUPBOXNAME&&l[s]["ReadOnly".toUpperCase()]!=1&&(n("<li>"+l[s].HEADNAME+"<\/li>").appendTo(k),c.push({name:n(i).prop("id")+l[s].FIELDNAME+"_1",fieldName:l[s].FIELDNAME}),n('<div id="'+c[c.length-1].name+'" ><\/div>').appendTo(n("#"+h)));for(a={width:"99.6%",height:"99.8%",theme:v.theme},u["HeightType".toUpperCase()]==1&&(a.height=u["Height".toUpperCase()]),u["widthType".toUpperCase()]==1&&(a.width=u["width".toUpperCase()]),d=u["OBJECTTYPE".toUpperCase()]==29,n("#"+h).csTabs(a),n("#"+h).css("margin-left",1),n("#"+h).css("margin-right",1),n("#"+h).css("padding-top",1),y={name:h,type:"csTabs",level:e,objectType:u["OBJECTTYPE".toUpperCase()],fieldName:u.FIELDNAME+"_1",headName:u.HEADNAME,fieldRow:u,noHead:!0,tabsId:c,parentControl:o},v.controls.push(y),w=function(t){try{if(c[t].isCreate!=!0){n("#"+h).csTabs("select",t);var f=n("#"+h).csTabs("getContentAt",t);u["groupName".toUpperCase()]==null&&n(f).css("overflow","hidden");ut(i,l,f,c[t].fieldName,e+1,y);c[t].isCreate=!0;n("#"+c[t].name).children().prop("style").removeProperty("height")}}catch(o){errorHandle(r,"addTabs_createTabItemControl",o)}},s=0;s<c.length;s++)(s==0||d==!1)&&w(s);c.length>0&&n("#"+h).csTabs("select",0);n("#"+h).on("selected",function(n){var t=n.args.item;w(t);p(i,c[t].fieldName)})}catch(tt){errorHandle(r,"addTabs",tt)}}function eu(i,u,f,e,o,s){var k,d,g,c,h,v,ut,nt,tt;try{var a=n.data(i,t).options,y=a.settingData,ft=Object.keys(y)[0],b=y[ft].rows,et=o!=!0?n(f):f;var ot=n(i).prop("id")+u.FIELDNAME,p="dynamicGrid",l=ot+"_1";n('<div id="'+l+'" style="width:100%;height:116px;"><\/div>').appendTo(et);var w=Object.keys(y),st=w.length,it={};for(c=0;c<st;c++)k=u.FIELDNAME.toUpperCase()+"GRID_",w[c].indexOf(k)>=0&&(it[w[c].replace(k,"")]=y[w[c]]);for(d={height:"99.2%",width:"99.2%",loginInfo:cloneJSON(a.loginInfo),programId:u.FIELDNAME,sysProgramId:u.FIELDNAME,settingData:it,localization:a.localization,theme:a.theme,container:n(i)},g=[],c=0;c<b.length;c++)if(u.FIELDNAME==b[c].GROUPBOXNAME){switch(u["ObjectType".toUpperCase()]){case 1:h="number";ut=u.DataLength;break;case 2:h="date";v="yyyy/MM/dd";break;case 3:h="date";v="yyyy/MM/dd HH:mm";break;case 17:h="date";v="yyyy/MM/dd HH:mm:ss";break;case 23:h="date";v="yyyy/MM";break;case 24:h="date";v="yyyy";break;case 5:h="csList";break;case 6:h="csMulti";break;case 7:h="checkbox";break;case 8:h="address1";break;case 9:h="address2";break;case 10:h="address3";break;case 11:h="textarea";break;default:h="textbox"}g.push({dataField:b[c].FIELDNAME,columnType:h,formatString:v,dataLength:ut})}d.gridFieldControls=g;n("#"+l)[p](d);nt={name:l,type:p,level:e,objectType:u["OBJECTTYPE".toUpperCase()],fieldName:u.FIELDNAME+"_1",headName:u.HEADNAME,fieldRow:u,noHead:!0,parentControl:s};a.controls.push(nt);n("#"+l).on("rowSelected",function(){try{var t=n("#"+l)[p]("getFocusRow",!0);t!=null&&Object.keys(t).length>0&&t[Object.keys(t)[0]].rows.length>0&&rt(i,t,function(){delete t},!0)}catch(u){errorHandle(r,"addDynamicGrid_rowSelected",u)}});tt=u["ReadOnly".toUpperCase()];(tt!=null&&tt==1||a.readOnlyFields.map(function(n){return n.toUpperCase()}).indexOf(u.FIELDNAME.toUpperCase())>=0)&&(n("#"+l)[p]("disabled",!0),nt.disabled=!0);n("#"+l).css("float","left");n("#"+l).css("display","inline-block")}catch(ht){errorHandle(r,"addDynamicGrid",ht)}}function c(n){var t=n.split("#");return"#"+t[1].substring(t[1].length-6)}var t="dynamicCondition",r="dynamicCondition.js",w="cablesoft.ria.dynamic.condition.web.dll",b="cablesoft.ria.dynamic.condition.web.dynamiccondition",e=23,h=20,ht=6,ui=25,fi="headerGroup",ct="rCon",d="CS",g,lt;n.fn.dynamicCondition=function(i,r,u,f){try{if(typeof i=="string"){if(g[i]){var e=n.data(n(this)[0],t);if(e)return g[i](this,r,u,f)}return}return i=i||{},this.each(function(){var r=n.data(this,t);r?n.extend(r.options,i):(n.data(this,t,{options:n.extend({},new lt,new dynamicCondition,i)}),gi(this))})}catch(o){errorHandle(t,"$.fn.dynamicCondition",o)}};g={options:function(i){return n.data(i[0],t).options},theme:function(n,t){return nt(n[0],"theme",t)},setTheme:function(n,t){return nt(n[0],"theme",t)},localization:function(n,t){return nt(n[0],"localization",t)},destroy:function(n){return n.each(function(){ci(this)})},resize:function(n){return n.each(function(){p(this)})},getQueryData:function(n,t){return n.each(function(){pi(this,t)})},disableAll:function(n,t,i,r){return n.each(function(){li(this,t,i,r)})},disableFields:function(n,t,i){return n.each(function(){ai(this,t,i)})},reset:function(n,t){return n.each(function(){vi(this,t)})},valueChange:function(t,i,r,u){ot(n(t)[0],i,r,u)},refreshDefault:function(t,i,r){rt(n(t)[0],i,r)},focus:function(n){return n.each(function(){ei(this)})}};lt=function(){this.language={};this.loginInfo={};this.editMode=0;this.refNo=0;this.parameters={};this.controls=[];this.theme=n.jqx.theme;this.settingData={};this.parentData={};this.localization=null;this.radioControls=[];this.disableMessage=!1;this.groupControls={};this.readOnlyFields=[];this.isCheckMustBe=!0}})(jQuery);